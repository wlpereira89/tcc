USE TCC
GO

/*Seção,Sub seção,Informação,Fonte Citada,Pagina,Só texto,Relatório,Observação,Link,Comentário relatório,Aberta,,,,,,,,,,,,,,,,,*/

/*
  DROP TABLE INDICADORES
  DROP TABLE SECAO
  DROP TABLE SUBSECAO
  DROP TABLE INFORMACAO
*/
CREATE TABLE SECAO (
  SECAO_ID      INT IDENTITY(1, 1) PRIMARY KEY,
  SECAO         VARCHAR(2000)
)

CREATE TABLE SUBSECAO (
  SUBSECAO_ID      INT IDENTITY(1, 1) PRIMARY KEY,
  SUBSECAO         VARCHAR(2000)
)

CREATE TABLE INFORMACAO (
  INFORMACAO_ID      INT IDENTITY(1, 1) PRIMARY KEY,
  INFORMACAO         VARCHAR(2000)
)

CREATE TABLE INDICADORES (
  REL_ANO       NUMERIC(4),
  REL_TRIMESTRE NUMERIC(1),
  SECAO_ID      INT,
  SUBSECAO_ID   INT,
  INFORMACAO_ID INT,
  SEQ           INT,
  FONTE_CITADA  VARCHAR(MAX),
  PAGINA_INI    INT,
  PAGINA_FIM    INT,
  IND_TEXTO     VARCHAR(1),
  OBS           VARCHAR(MAX),
  LINK          VARCHAR(MAX),
  COM_REL       VARCHAR(MAX),
  CONSTRAINT PK_INDICADORES PRIMARY KEY(REL_ANO, REL_TRIMESTRE, SECAO_ID, SUBSECAO_ID, INFORMACAO_ID, SEQ),
  CONSTRAINT FK_INDICADORES_SECAO      FOREIGN KEY (SECAO_ID     ) REFERENCES SECAO      (SECAO_ID     ),
  CONSTRAINT FK_INDICADORES_SUBSECAO   FOREIGN KEY (SUBSECAO_ID  ) REFERENCES SUBSECAO   (SUBSECAO_ID  ),
  CONSTRAINT FK_INDICADORES_INFORMACAO FOREIGN KEY (INFORMACAO_ID) REFERENCES INFORMACAO (INFORMACAO_ID)
)